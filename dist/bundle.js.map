{"version":3,"sources":["webpack:///webpack/bootstrap d5b98f10fb68f5840e37","webpack:///./src/index.js","webpack:///./data.json","webpack:///./src/component.js","webpack:///./src/sass/main.scss"],"names":["component","themeToggle","document","getElementById","addEventListener","body","classList","toggle","Component","data","selector","keyCodes","Object","freeze","RETURN","ESC","SPACE","LEFT","UP","RIGHT","DOWN","render","parent","parentElement","setAttribute","add","remove","querySelector","title","subtitle","intro","timeline","buildLevels","i","levels","forEach","level","item","toLowerCase","content","Array","el","innerHTML","handleClicks","bind","handleKeyup","event","target","closest","getAttribute","activatePanel","deactivatePanel","key","keyCode","accordion","newTarget","console","log","nextElementSibling","focus"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d5b98f10fb68f5840e37","import preload from '../data.json';\nimport Component from './component';\nimport './sass/main.scss';\n\nconst component = new Component(preload, '#app'); // eslint-disable-line no-unused-vars\n\nconst themeToggle = document.getElementById('themeToggle');\n\nthemeToggle.addEventListener('click', () => {\n  document.body.classList.toggle('ai-humanity-theme');\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = {\"title\":\"Roadmap\",\"subtitle\":\"Track our progress\",\"intro\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate.\",\"data\":[{\"title\":\"Beginnings\",\"content\":[{\"title\":\"January 2018 - Subsection title here\",\"content\":[{\"title\":\"Title for section\",\"content\":\"We use an all-encompassing approach—proven solutions and innovative and revolutionary policies and technologies—to simultaneously eradicate global poverty and create realizable paths to prosperity for the unprosperous—70% of humanity.\"},{\"title\":\"Title for section\",\"content\":\"We use an all-encompassing approach—proven solutions and innovative and revolutionary policies and technologies—to simultaneously eradicate global poverty and create realizable paths to prosperity for the unprosperous—70% of humanity.\"},{\"title\":\"Title for section\",\"content\":\"We use an all-encompassing approach—proven solutions and innovative and revolutionary policies and technologies—to simultaneously eradicate global poverty and create realizable paths to prosperity for the unprosperous—70% of humanity.\"}]},{\"title\":\"April 2018 - Subsection title here\"},{\"title\":\"September 2018 - Subsection title here\"}]},{\"title\":\"Collective documenting\"},{\"title\":\"Achieving our goals\"},{\"title\":\"Lorem ipsum dolor\"},{\"title\":\"Ea commodo consequat\"},{\"title\":\"Minim veniam\"},{\"title\":\"Magna aliqua\"}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./data.json\n// module id = 1\n// module chunks = 0","class Component {\n  constructor(data, selector) {\n    this.data = data;\n    this.selector = selector;\n    this.keyCodes = Object.freeze({\n      RETURN: 13,\n      ESC: 27,\n      SPACE: 32,\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      DOWN: 40\n    });\n\n    this.render();\n  }\n\n  activatePanel(toggle) {\n    const parent = toggle.parentElement.parentElement;\n\n    // Update the attributes.\n    toggle.setAttribute('aria-expanded', 'true');\n    parent.classList.add('accordion__item--expanded');\n  }\n\n  deactivatePanel(toggle) {\n    const parent = toggle.parentElement.parentElement;\n\n    toggle.setAttribute('aria-expanded', 'false');\n    parent.classList.remove('accordion__item--expanded');\n  }\n\n  render() {\n    const el = document.querySelector(this.selector),\n      { title, subtitle, intro, data } = this.data;\n\n    let timeline = `\n      <section class=\"component component--roadmap\">\n        <header class=\"component__header\">\n          <h2 class=\"component__title\">\n            ${title}\n          </h2>\n          <h3 class=\"component__subtitle\">\n            ${subtitle}\n          </h3>\n          <p class=\"component__intro\">${intro}</p>\n        </header>\n        <div class=\"component__content\">\n          <ul class=\"accordion accordion--level-1 list-reset\">`;\n\n    function buildLevels(data, i = 0) {\n      let levels = ``;\n\n      i++;\n\n      data.forEach(item => {\n        let level = `\n          ${i > 1 ? `<ul class=\"accordion accordion--level-${i} list-reset\">` : ''}\n            <li class=\"accordion__item accordion__item--level-${i}\">\n              <h3 id=\"${item.title}\" class=\"accordion__title accordion__title--level-${i}\">\n                <button class=\"toggle toggle--plus-minus toggle--level-${i}\" aria-expanded=\"false\" aria-controls=\"${item.title.toLowerCase()}Content\">\n                  <span class=\"screen-reader-text\">Toggle</span>\n                </button>\n                ${item.title}\n              </h3>\n              <div id=\"${item.title.toLowerCase()}Content\" class=\"accordion__content accordion__content--level-${i}\">\n                ${item.content instanceof Array ? buildLevels(item.content, i) : item.content ? item.content : ''}\n              </div>\n            </li>\n          ${i > 1 ? `</ul>` : ''}`;\n\n        levels += level;\n      });\n\n      return levels;\n    }\n\n    timeline += `\n        ${buildLevels(data)}\n      </div>\n    </section>`;\n\n    el.innerHTML = timeline;\n\n    el.addEventListener('click', this.handleClicks.bind(this));\n    el.addEventListener('keyup', this.handleKeyup.bind(this));\n  }\n\n  handleClicks(event) {\n    const target = event.target.closest('.toggle');\n\n    if (target && target.getAttribute('aria-expanded') === 'false') {\n      this.activatePanel(target);\n      return true;\n    }\n\n    if (target && target.getAttribute('aria-expanded') === 'true') {\n      this.deactivatePanel(target);\n      return true;\n    }\n\n    return false;\n  }\n\n  handleKeyup(event) {\n    const key = event.keyCode,\n      target = event.target,\n      parent = target.parentElement.parentElement,\n      accordion = parent.parentElement;\n\n    let newTarget;\n\n    switch (key) {\n      // These cases are handled by click event.\n      case this.keyCodes.RETURN:\n      case this.keyCodes.SPACE:\n        break;\n\n      case this.keyCodes.DOWN:\n        console.log(parent.nextElementSibling); // eslint-disable-line no-console\n        if (parent.nextElementSibling === null) {\n          newTarget = accordion.querySelector('.toggle');\n        } else {\n          newTarget = parent.nextElementSibling;\n          newTarget = newTarget.querySelector('.toggle');\n        }\n\n        newTarget.focus();\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./src/component.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sass/main.scss\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}